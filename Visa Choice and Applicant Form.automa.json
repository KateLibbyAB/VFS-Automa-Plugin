{"extVersion":"1.28.5","name":"Visa Choice and Applicant Form","icon":"riGlobalLine","table":[{"id":"ncztG","name":"tabs","type":"string"}],"version":"1.28.5","drawflow":{"nodes":[{"computedPosition":{"x":-1038.276794117172,"y":-202.1040803327337,"z":0},"data":{"activeInInput":false,"contextMenuName":"","contextTypes":[],"date":"","days":[],"delay":5,"description":"","disableBlock":false,"interval":60,"isUrlRegex":false,"observeElement":{"baseElOptions":{"attributeFilter":[],"attributes":false,"characterData":false,"childList":true,"subtree":false},"baseSelector":"","matchPattern":"","selector":"","targetOptions":{"attributeFilter":[],"attributes":false,"characterData":false,"childList":true,"subtree":false}},"parameters":[],"preferParamsInTab":false,"shortcut":"","time":"00:00","type":"manual","url":""},"dimensions":{"width":192,"height":72},"dragging":false,"events":{},"handleBounds":{"source":[{"id":"5JX6kG4pBh5rFC4E2P-DT-output-1","position":"right","x":196,"y":28,"width":16,"height":16}]},"id":"5JX6kG4pBh5rFC4E2P-DT","initialized":true,"label":"trigger","position":{"x":-1038.276794117172,"y":-202.1040803327337},"resizing":false,"selected":false,"type":"BlockBasic"},{"computedPosition":{"x":-657.2624386993459,"y":-199.61737940951966,"z":0},"data":{"disableBlock":false},"dimensions":{"width":192,"height":72},"dragging":false,"events":{},"handleBounds":{"source":[{"id":"x3bej9v-output-1","position":"right","x":196,"y":28,"width":16,"height":16}],"target":[{"id":"x3bej9v-input-1","position":"left","x":-20,"y":28,"width":16,"height":16}]},"id":"x3bej9v","initialized":true,"label":"active-tab","position":{"x":-657.2624386993459,"y":-199.61737940951966},"resizing":false,"selected":false,"type":"BlockBasic"},{"computedPosition":{"x":1248.5210995884547,"y":-28.73175164038008,"z":0},"data":{"description":"Save","disableBlock":false,"findBy":"cssSelector","markEl":false,"multiple":false,"selector":"app-applicant-details button:contains('Save')","waitForSelector":true,"waitSelectorTimeout":5000},"dimensions":{"width":192,"height":72},"dragging":false,"events":{},"handleBounds":{"source":[{"id":"6wdmr8n-output-1","position":"right","x":196,"y":28,"width":16,"height":16}],"target":[{"id":"6wdmr8n-input-1","position":"left","x":-20,"y":28,"width":16,"height":16}]},"id":"6wdmr8n","initialized":true,"label":"event-click","position":{"x":1248.5210995884547,"y":-28.73175164038008},"resizing":false,"selected":false,"type":"BlockBasic"},{"computedPosition":{"x":84.31361829197749,"y":-74.7908927881214,"z":0},"data":{"description":"Visa Continue","disableBlock":false,"findBy":"cssSelector","markEl":false,"multiple":false,"selector":"app-eligibility-criteria button:contains('Continue')","waitForSelector":true,"waitSelectorTimeout":5000},"dimensions":{"width":192,"height":72},"dragging":false,"events":{},"handleBounds":{"source":[{"id":"szkyxan-output-1","position":"right","x":196,"y":28,"width":16,"height":16}],"target":[{"id":"szkyxan-input-1","position":"left","x":-20,"y":28,"width":16,"height":16}]},"id":"szkyxan","initialized":true,"label":"event-click","position":{"x":84.31361829197749,"y":-74.7908927881214},"resizing":false,"selected":false,"type":"BlockBasic"},{"computedPosition":{"x":-254.66951491447776,"y":-192.56586835481926,"z":1000},"data":{"disableBlock":false,"description":"Changing session storage","timeout":20000,"context":"website","code":"const button = document.querySelector('.btn-brand-orange:disabled');\nif(button){\n  button.attributes.removeNamedItem(\"disabled\");\n  button.classList.remove(\"mat-button-disabled\");\n}\n\nsessionStorage.application_configuration=sessionStorage.application_configuration.replace(/(\"minConfigurableTime\":)[^,]*,/,\"$1 0,\")\nsessionStorage.tmi_enabled=false","preloadScripts":[],"everyNewTab":false,"runBeforeLoad":false},"dimensions":{"width":192,"height":72},"dragging":false,"events":{},"handleBounds":{"source":[{"id":"0xvitff-output-1","position":"right","x":196.00001525878906,"y":28.00000762939453,"width":16,"height":16}],"target":[{"id":"0xvitff-input-1","position":"left","x":-20,"y":28.00000762939453,"width":16,"height":16}]},"id":"0xvitff","initialized":true,"label":"javascript-code","position":{"x":-254.66951491447776,"y":-192.56586835481926},"resizing":false,"selected":true,"type":"BlockBasic"},{"computedPosition":{"x":982.3987429510028,"y":-39.74177050530303,"z":0},"data":{"code":"function findControl(what, near, index) {\n    const els = $(near).get().reverse();\n\n    for (let e of els) {\n\n        const found = $(e).find(what);\n        if (found.length > 0) {\n            return found[index];\n        }\n    }\n    return null;\n}\n\nfunction collectMatSelectOptions() {\n\n    return $(\"div.mat-select-panel span.mat-option-text\").map(function () {\n        return { obj: $(this), text: $(this).text() };\n    });\n}\n\nfunction matSelectSetValue(matSelect, text, equal) {\n    matSelect.click();\n    const options = collectMatSelectOptions().get();\n    const myOption = options.find(item => !equal && item.text.trim().includes(text.trim()) || equal && item.text.trim() == text.trim());\n\n    if (myOption) {\n        myOption.obj.click();\n    }\n}\n\ndataItems={\"Gender\":\"Female\",\"Current Nationality\":\"RUSSIAN FEDERATION\"}\nfor(let entry of Object.entries(dataItems)){\n  [key,value]=entry;  \n  setTimeout(() => {\n  console.log(\"Delayed for 1 second.\");\n}, \"1000\");\n  input = findControl(\"mat-select\", \"div:contains('\" + key + \"')\", 0);\n  matSelectSetValue(input, value, true);\n}","context":"website","description":"Gender and Nationality","disableBlock":false,"everyNewTab":false,"preloadScripts":[],"runBeforeLoad":false,"timeout":20000},"dimensions":{"width":192,"height":72},"dragging":false,"events":{},"handleBounds":{"source":[{"id":"g6h7a95-output-1","position":"right","x":196,"y":28.00000062584877,"width":16,"height":16}],"target":[{"id":"g6h7a95-input-1","position":"left","x":-20,"y":28.00000062584877,"width":16,"height":16}]},"id":"g6h7a95","initialized":true,"label":"javascript-code","position":{"x":982.3987429510028,"y":-39.74177050530303},"resizing":false,"selected":false,"type":"BlockBasic"},{"computedPosition":{"x":462.8866751959865,"y":-55.80469027035052,"z":0},"data":{"disableBlock":false,"time":"2000"},"dimensions":{"width":192,"height":117},"dragging":false,"events":{},"handleBounds":{"source":[{"id":"wb4drrh-output-1","position":"right","x":196,"y":50.416669845581055,"width":16,"height":16}],"target":[{"id":"wb4drrh-input-1","position":"left","x":-20,"y":50.416669845581055,"width":16,"height":16}]},"id":"wb4drrh","initialized":true,"label":"delay","position":{"x":462.8866751959865,"y":-55.80469027035052},"resizing":false,"selected":false,"type":"BlockDelay"},{"computedPosition":{"x":732.2295089944887,"y":-79.59860767449385,"z":0},"data":{"blocks":[{"data":{"assignVariable":false,"clearValue":true,"dataColumn":"","delay":"","description":"Passport number","disableBlock":false,"events":[],"findBy":"cssSelector","getValue":false,"markEl":false,"multiple":false,"optionPosition":"1","saveData":false,"selectOptionBy":"value","selected":true,"selector":"input[placeholder*='passport']","type":"text-field","value":"{{variables.$$passportNumber}}","variableName":"","waitForSelector":true,"waitSelectorTimeout":5000},"id":"forms","itemId":"4gP3d1ZTovmPHyI7SWeZH"},{"data":{"assignVariable":false,"clearValue":true,"dataColumn":"","delay":0,"description":"Last name","disableBlock":false,"events":[],"findBy":"cssSelector","getValue":false,"markEl":false,"multiple":false,"optionPosition":"1","saveData":false,"selectOptionBy":"value","selected":true,"selector":"input[placeholder*='last']","type":"text-field","value":"{{variables.$$lastName}}","variableName":"","waitForSelector":true,"waitSelectorTimeout":5000},"id":"forms","itemId":"5b0r84r"},{"data":{"assignVariable":false,"clearValue":true,"dataColumn":"","delay":"","description":"Email","disableBlock":false,"events":[],"findBy":"cssSelector","getValue":false,"markEl":false,"multiple":false,"optionPosition":"1","saveData":false,"selectOptionBy":"value","selected":true,"selector":"input[placeholder*='Email']","type":"text-field","value":"{{variables.$$email}}","variableName":"","waitForSelector":true,"waitSelectorTimeout":5000},"id":"forms","itemId":"ibe2d51"},{"data":{"assignVariable":false,"clearValue":true,"dataColumn":"","delay":"","description":"Country code","disableBlock":false,"events":[],"findBy":"cssSelector","getValue":false,"markEl":false,"multiple":false,"optionPosition":"1","saveData":false,"selectOptionBy":"value","selected":true,"selector":"input[placeholder*='44']","type":"text-field","value":"7","variableName":"","waitForSelector":true,"waitSelectorTimeout":5000},"id":"forms","itemId":"xvr7mcq"},{"data":{"assignVariable":false,"clearValue":true,"dataColumn":"","delay":"","description":"Phone number","disableBlock":false,"events":[],"findBy":"cssSelector","getValue":false,"markEl":false,"multiple":false,"optionPosition":"1","saveData":false,"selectOptionBy":"value","selected":true,"selector":"input[placeholder*='012345648382']","type":"text-field","value":"{{variables.$$phoneNumber}}","variableName":"","waitForSelector":true,"waitSelectorTimeout":5000},"id":"forms","itemId":"l2x243q"},{"data":{"assignVariable":false,"clearValue":true,"dataColumn":"","delay":0,"description":"First name","disableBlock":false,"events":[],"findBy":"cssSelector","getValue":false,"markEl":false,"multiple":false,"optionPosition":"1","saveData":false,"selectOptionBy":"value","selected":true,"selector":"input[placeholder*='first']","type":"text-field","value":"{{variables.$$firstName}}","variableName":"","waitForSelector":true,"waitSelectorTimeout":5000},"id":"forms","itemId":"67pzrj7"},{"data":{"assignVariable":false,"clearValue":true,"dataColumn":"","delay":"0","description":"Birth","disableBlock":false,"events":[],"findBy":"cssSelector","getValue":false,"markEl":false,"multiple":false,"optionPosition":"1","saveData":false,"selectOptionBy":"value","selected":true,"selector":"input#dateOfBirth","type":"text-field","value":"{{variables.$$birthDay}}","variableName":"","waitForSelector":true,"waitSelectorTimeout":5000},"id":"forms","itemId":"TVcyd"},{"data":{"assignVariable":false,"clearValue":true,"dataColumn":"","delay":"0","description":"Expire","disableBlock":false,"events":[],"findBy":"cssSelector","getValue":false,"markEl":false,"multiple":false,"optionPosition":"1","saveData":false,"selectOptionBy":"value","selected":true,"selector":"input#passportExpirtyDate","type":"text-field","value":"{{variables.$$passportExpire}}","variableName":"","waitForSelector":true,"waitSelectorTimeout":5000},"id":"forms","itemId":"wN5Rr"}],"disableBlock":false,"name":""},"dimensions":{"width":256,"height":340},"dragging":false,"events":{},"handleBounds":{"source":[{"id":"tys93ti-output-1","position":"right","x":260,"y":162,"width":16,"height":16}],"target":[{"id":"tys93ti-input-1","position":"left","x":-20,"y":162,"width":16,"height":16}]},"id":"tys93ti","initialized":true,"label":"blocks-group","position":{"x":732.2295089944887,"y":-79.59860767449385},"resizing":false,"selected":false,"type":"BlockGroup"},{"computedPosition":{"x":1570.4056611817346,"y":-18.922714548577694,"z":0},"data":{"disableBlock":false,"description":"Stay Connected","timeout":20000,"context":"website","code":"async function performActivity(){\n   \tmouseMoveEvent=new MouseEvent('mousemove', {\n\t\tbubbles: true, // Allow the event to bubble up the DOM tree\n\t\tclientX: 100, // X-coordinate of the mouse pointer\n\t\tclientY: 200, // Y-coordinate of the mouse pointer\n\t});\n\tconst targetElement = document.getElementsByTagName('body')[0];\n\ttargetElement.dispatchEvent(mouseMoveEvent);\n}\n\nminutes=4\nsetInterval(performActivity, minutes*60*1000);","preloadScripts":[],"everyNewTab":false,"runBeforeLoad":false},"dimensions":{"width":192,"height":72},"dragging":false,"events":{},"handleBounds":{"source":[{"id":"zmf4fgy-output-1","position":"right","x":196.0001220703125,"y":28,"width":16,"height":16}],"target":[{"id":"zmf4fgy-input-1","position":"left","x":-20,"y":28,"width":16,"height":16}]},"id":"zmf4fgy","initialized":true,"label":"javascript-code","position":{"x":1570.4056611817346,"y":-18.922714548577694},"resizing":false,"selected":false,"type":"BlockBasic"}],"edges":[{"id":"vueflow__edge-5JX6kG4pBh5rFC4E2P-DT5JX6kG4pBh5rFC4E2P-DT-output-1-x3bej9vx3bej9v-input-1","data":{},"events":{},"markerEnd":"arrowclosed","selectable":true,"source":"5JX6kG4pBh5rFC4E2P-DT","sourceHandle":"5JX6kG4pBh5rFC4E2P-DT-output-1","target":"x3bej9v","targetHandle":"x3bej9v-input-1","type":"custom","updatable":true},{"id":"vueflow__edge-x3bej9vx3bej9v-output-1-0xvitff0xvitff-input-1","data":{},"events":{},"markerEnd":"arrowclosed","selectable":true,"source":"x3bej9v","sourceHandle":"x3bej9v-output-1","target":"0xvitff","targetHandle":"0xvitff-input-1","type":"custom","updatable":true,"class":"connected-edges"},{"id":"vueflow__edge-0xvitff0xvitff-output-1-szkyxanszkyxan-input-1","data":{},"events":{},"markerEnd":"arrowclosed","selectable":true,"source":"0xvitff","sourceHandle":"0xvitff-output-1","target":"szkyxan","targetHandle":"szkyxan-input-1","type":"custom","updatable":true,"class":"connected-edges"},{"id":"vueflow__edge-tys93titys93ti-output-1-g6h7a95g6h7a95-input-1","data":{},"events":{},"markerEnd":"arrowclosed","selectable":true,"source":"tys93ti","sourceHandle":"tys93ti-output-1","target":"g6h7a95","targetHandle":"g6h7a95-input-1","type":"custom","updatable":true},{"id":"vueflow__edge-g6h7a95g6h7a95-output-1-6wdmr8n6wdmr8n-input-1","class":"source-g6h7a95-output-1 target-6wdmr8n-input-1","data":{},"events":{},"markerEnd":"arrowclosed","selectable":true,"source":"g6h7a95","sourceHandle":"g6h7a95-output-1","target":"6wdmr8n","targetHandle":"6wdmr8n-input-1","type":"custom","updatable":true},{"id":"vueflow__edge-wb4drrhwb4drrh-output-1-tys93titys93ti-input-1","data":{},"events":{},"markerEnd":"arrowclosed","selectable":true,"source":"wb4drrh","sourceHandle":"wb4drrh-output-1","target":"tys93ti","targetHandle":"tys93ti-input-1","type":"custom","updatable":true},{"id":"vueflow__edge-szkyxanszkyxan-output-1-wb4drrhwb4drrh-input-1","data":{},"events":{},"markerEnd":"arrowclosed","selectable":true,"source":"szkyxan","sourceHandle":"szkyxan-output-1","target":"wb4drrh","targetHandle":"wb4drrh-input-1","type":"custom","updatable":true},{"id":"vueflow__edge-6wdmr8n6wdmr8n-output-1-zmf4fgyzmf4fgy-input-1","data":{},"events":{},"markerEnd":"arrowclosed","selectable":true,"source":"6wdmr8n","sourceHandle":"6wdmr8n-output-1","target":"zmf4fgy","targetHandle":"zmf4fgy-input-1","type":"custom","updatable":true}],"position":[497.99999999999994,340],"zoom":0.39917842317597435},"settings":{"blockDelay":0,"debugMode":false,"defaultColumnName":"column","execContext":"popup","executedBlockOnWeb":false,"inputAutocomplete":true,"insertDefaultColumn":false,"notification":true,"onError":"stop-workflow","publicId":"","restartTimes":3,"reuseLastState":false,"saveLog":true},"globalData":"{\n\t\"key\": \"value\"\n}","description":"","includedWorkflows":{}}